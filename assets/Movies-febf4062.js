import{P as h,r as t,j as e,u as b,a as g,L as j}from"./index-477d1a19.js";import{a as S}from"./APIHandlers-dc7c23ef.js";const f=({query:r,onSubmit:s})=>{const[c,l]=t.useState(r),n=o=>{l(o.target.value)};return e.jsxs("form",{onSubmit:s,children:[e.jsx("input",{type:"text",placeholder:"Type here to search",name:"search",cols:"400",value:c,onChange:n}),e.jsx("input",{type:"submit",value:"Click to Search!"})]})};f.propTypes={query:h.string,onSubmit:h.func.isRequired};const k="_fallback_5ewa5_1",v="_subtitle_5ewa5_13 _fallback_5ewa5_1",L="_list_5ewa5_27",w="_item_5ewa5_35",p={fallback:k,subtitle:v,list:L,item:w},E=()=>{const r=b(),[s,c]=t.useState(""),[l,n]=t.useState(!1),[o,m]=t.useState([]),[d,y]=g(),i=d.get("query");t.useEffect(()=>{i!==null&&i!==s&&c(i)},[i,s]),t.useEffect(()=>{(async()=>{n(!0);const _=(await S(s)).results.map(u=>e.jsx("li",{children:e.jsx(j,{to:"/movies/"+u.id,state:{back:r},children:u.title})},u.id));m(_),n(!1)})()},[s,r]);const x=async a=>{if(a.preventDefault(),a.target.search.value==="")return alert("Please provide a search phrase!"),!1;c(a.target.search.value),y({query:a.target.search.value})};return e.jsxs(e.Fragment,{children:[e.jsx(f,{query:s,onSubmit:x}),l&&e.jsxs("div",{className:p.fallback,children:["Loading content...",e.jsx("br",{}),"Please wait."]}),!l&&e.jsx("ul",{className:p.list,children:o})]})};export{E as default};
