import{u as _,j as e,L as r,r as t,_ as c,P as g,R as w,b as o,c as f}from"./index-1f84b72c.js";import{b as L}from"./APIHandlers-a0c34a59.js";const R=()=>{var i;const s=_();return e.jsx(r,{to:((i=s.state)==null?void 0:i.back)??"/",children:"← GO BACK"})},P=t.lazy(()=>c(()=>import("./MovieCast-16fead9e.js"),["./MovieCast-16fead9e.js","./index-1f84b72c.js","./index-7400e251.css","./APIHandlers-a0c34a59.js"],import.meta.url)),b=t.lazy(()=>c(()=>import("./MovieReviews-124b2c08.js"),["./MovieReviews-124b2c08.js","./index-1f84b72c.js","./index-7400e251.css","./APIHandlers-a0c34a59.js"],import.meta.url)),l=({id:s})=>{const[i,d]=t.useState({}),[n,x]=t.useState(!0);return t.useEffect(()=>{(async()=>{const h=await L(s),{title:j,poster_path:p,vote_average:m,overview:u,genres:v}=h;d(e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"https://image.tmdb.org/t/p/original/"+p,width:"300",alt:"poster"}),e.jsxs("div",{children:[e.jsx("h2",{children:j}),e.jsxs("p",{children:["User score: ",Number.parseInt(Number(m)*10),"%"]}),e.jsx("h2",{children:"Overview"}),e.jsx("p",{children:u}),e.jsx("h2",{children:"Genres"}),e.jsx("p",{children:v.map(a=>e.jsx("span",{children:a.name},a.id))})]})]})),x(!1)})()},[s]),e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{children:"Loading... Please wait..."}),!n&&e.jsx("section",{children:i}),e.jsxs("section",{children:[e.jsx("h2",{children:"Additional information"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(r,{to:"cast",children:"Cast"})}),e.jsx("li",{children:e.jsx(r,{to:"reviews",children:"Reviews"})})]}),e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Loading... Please wait..."}),children:e.jsxs(w,{children:[e.jsx(o,{path:"cast",element:e.jsx(P,{id:s})}),e.jsx(o,{path:"reviews",element:e.jsx(b,{id:s})})]})})]})]})};l.propTypes={id:g.string.isRequired};const D=()=>{const{movieID:s}=f();return e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx(l,{id:s})]})};export{D as default};
